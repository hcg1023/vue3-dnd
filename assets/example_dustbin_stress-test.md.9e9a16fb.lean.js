var B=Object.defineProperty,$=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var I=(t,e,n)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||(e={}))w.call(e,n)&&I(t,n,e[n]);if(b)for(var n of b(e))L.call(e,n)&&I(t,n,e[n]);return t},_=(t,e)=>$(t,P(e));import{d as v,f as E,k as y,e as c,o as a,c as p,b as F,t as h,y as N,n as R,u as C,w as f,U as G,J as V,v as z,a as i,F as x,p as O,q as S,g as M}from"./app.7c310d65.js";import{t as A}from"./chunks/index.f12afa38.js";const T={key:0},U=v({props:{lastDroppedItem:null,accepts:null,onDrop:null},setup(t){const e=t,n={height:"12rem",width:"12rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"white",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},[u,g]=E(()=>({accept:e.accepts,collect:l=>({isOver:l.isOver(),canDrop:l.canDrop()}),drop:l=>e.onDrop(l)})),{canDrop:m,isOver:r}=A(u),o=y(()=>c(m)&&c(r)),s=y(()=>o.value?"darkgreen":m.value?"darkkhaki":"#222");return(l,k)=>(a(),p("div",{ref:c(g),style:R(_(D({},n),{backgroundColor:c(s)}))},[F(h(c(o)?"Release to drop":`This dustbin accepts: ${t.accepts.join(",")}`)+" ",1),t.lastDroppedItem?(a(),p("p",T," Last dropped: "+h(JSON.stringify(t.lastDroppedItem)),1)):N("",!0)],4))}}),j={key:0},J={key:1},q=v({props:{name:null,type:null,isDropped:{type:Boolean}},setup(t){const e=t,n={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},[u,g]=C(()=>({type:e.type,item:{name:e.name},isDragging(o){const s=o.getItem();return e.name===s.name},collect:o=>({isDragging:o.isDragging()})})),{isDragging:m}=A(u),r=y(()=>c(m)?.4:1);return(o,s)=>(a(),p("div",{ref:c(g),style:R(_(D({},n),{opacity:c(r)}))},[t.isDropped?(a(),p("s",j,h(t.name),1)):(a(),p("span",J,h(t.name),1))],4))}}),d={FOOD:"food",GLASS:"glass",PAPER:"paper"},H={style:{overflow:"hidden",clear:"both"}},K={style:{overflow:"hidden",clear:"both"}},Q=v({setup(t){const e=f([{id:1,accepts:[d.GLASS],lastDroppedItem:null},{id:2,accepts:[d.FOOD],lastDroppedItem:null},{id:3,accepts:[d.PAPER,d.GLASS,G],lastDroppedItem:null},{id:4,accepts:[d.PAPER,V],lastDroppedItem:null}]),n=f([{name:"Bottle",type:d.GLASS},{name:"Banana",type:d.FOOD},{name:"Magazine",type:d.PAPER}]),u=f([]);if(typeof window!="undefined"){const r=setInterval(()=>{n.value.sort(()=>Math.random()-.5),e.value.sort(()=>Math.random()-.5)},4e3);z(()=>{clearInterval(r)})}const g=r=>u.value.indexOf(r)>-1,m=(r,o)=>{const{name:s}=o;e.value[r].lastDroppedItem=o,s&&u.value.push(s)};return(r,o)=>(a(),p("div",null,[i("div",H,[(a(!0),p(x,null,O(e.value,(s,l)=>(a(),S(U,{key:`${s.id}`,accepts:s.accepts,"last-dropped-item":s.lastDroppedItem,"on-drop":k=>m(l,k)},null,8,["accepts","last-dropped-item","on-drop"]))),128))]),i("div",K,[(a(!0),p(x,null,O(n.value,(s,l)=>(a(),S(q,{key:l,name:s.name,type:s.type,"is-dropped":g(s.name)},null,8,["name","type","is-dropped"]))),128))])]))}}),W=i("p",null,"\u6B64\u793A\u4F8B\u4E0E\u4E0A\u4E00\u4E2A\u793A\u4F8B\u7C7B\u4F3C\uFF0C\u4F46\u62D6\u52A8\u6E90\u548C\u653E\u7F6E\u76EE\u6807\u7684 props \u6BCF\u79D2\u90FD\u5728\u53D8\u5316\u3002\u5B83\u6F14\u793A\u4E86 React DnD \u8DDF\u8E2A\u4E0D\u65AD\u53D8\u5316\u7684 props\uFF0C\u5982\u679C\u7EC4\u4EF6\u63A5\u6536\u5230\u65B0\u7684 props\uFF0CReact DnD \u4F1A\u91CD\u65B0\u8BA1\u7B97\u62D6\u653E\u72B6\u6001\u3002\u5B83\u8FD8\u5C55\u793A\u4E86\u81EA\u5B9A\u4E49isDragging\u5B9E\u73B0\u5982\u4F55\u4F7F\u62D6\u52A8\u6E90\u663E\u793A\u4E3A\u5DF2\u62D6\u52A8\uFF0C\u5373\u4F7F\u542F\u52A8\u62D6\u52A8\u7684\u7EC4\u4EF6\u5DF2\u6536\u5230\u65B0\u7684\u9053\u5177\u3002",-1),X=i("hr",null,null,-1),Y=i("br",null,null,-1),Z=i("br",null,null,-1),ee=i("br",null,null,-1),ae='{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"example/dustbin/stress-test.md"}',te={},re=Object.assign(te,{setup(t){return(e,n)=>(a(),p("div",null,[W,X,Y,Z,ee,M(c(Q))]))}});export{ae as __pageData,re as default};
