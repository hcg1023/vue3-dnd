import{_ as o,c as a,o as c,Q as n,b as t,j as e}from"./app.84d2bec0.js";const _='{"title":"useDrag","description":"","frontmatter":{},"headers":[{"level":2,"title":"parameters","slug":"parameters"},{"level":2,"title":"return value","slug":"return-value"},{"level":3,"title":"Specification object","slug":"specification-object"}],"relativePath":"en/guide/composition/use-drag.md"}',s={},i=n("",3),d=t("div",{class:"language-vue"},[t("pre",null,[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("script")]),e(),t("span",{class:"token attr-name"},"setup"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("ts"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[e(`
`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" useDrag "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'vue3-dnd'"),e(`

`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token punctuation"},"["),e("collectedProps"),t("span",{class:"token punctuation"},","),e(" dragSource"),t("span",{class:"token punctuation"},","),e(" dragPreview"),t("span",{class:"token punctuation"},"]"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token function"},"useDrag"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),e(`
`),t("span",{class:"token literal-property property"},"type"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'BOX'"),t("span",{class:"token punctuation"},","),e(`
`),t("span",{class:"token literal-property property"},"item"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e(),t("span",{class:"token literal-property property"},"id"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'1'"),e(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),e(`
`)])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("script")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("div")]),e(),t("span",{class:"token attr-name"},"v-if"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("collectedProps.isDragging"),t("span",{class:"token punctuation"},'"')]),e(),t("span",{class:"token attr-name"},":ref"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("dragPreview"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e("dragPreview"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("div")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("div")]),e(),t("span",{class:"token attr-name"},"v-else"),e(),t("span",{class:"token attr-name"},":ref"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("dragSource"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e("dragSource"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("div")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1704933648947-49660"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`<script setup lang="ts">
import { useDrag } from 'vue3-dnd'

const [collectedProps, dragSource, dragPreview] = useDrag(() => ({
type: 'BOX',
item: { id: '1' },
}))
<\/script>

<template>
<div v-if="collectedProps.isDragging" :ref="dragPreview">dragPreview</div>
<div v-else :ref="dragSource">dragSource</div>
</template>
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1704933648947-49660","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])])],-1),l=n("",4),r=t("ul",null,[t("li",null,[t("p",null,[t("code",null,"[0] - Collected Props")]),t("ul",null,[t("li",null,[t("div",{class:"language-ts"},[t("pre",null,[t("code",null,`Ref<object>
`),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1704933648948-53701"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`Ref<object>
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1704933648948-53701","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])])])]),t("li",null,[e("It is a "),t("code",null,"Ref"),e(" object, its "),t("code",null,"value"),e(" points to the return value of the "),t("code",null,"collect"),e(" function, if the "),t("code",null,"collect"),e(" function is not defined, its "),t("code",null,"value"),e(" is an empty object")])])]),t("li",null,[t("p",null,[t("code",null,"[1] - DragSource Connector")]),t("ul",null,[t("li",null,[t("div",{class:"language-ts"},[t("pre",null,[t("code",null,`(el: Ref<HTMLElement> | HTMLElement, options?: DragSourceOptions) => HTMLElement
`),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1704933648949-93882"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`(el: Ref<HTMLElement> | HTMLElement, options?: DragSourceOptions) => HTMLElement
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1704933648949-93882","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])])])]),t("li",null,[e("Drag and drop the source's connector function. "),t("strong",null,"It must be called"),e(", and pass a draggable DOM element of "),t("code",null,"Ref<HTMLElement> | HTMLElement"),e(";")]),t("li",null,"The second parameter is an options object, which is consistent with the options of the Specification object")])]),t("li",null,[t("p",null,[t("code",null,"[2] - DragPreview Connector")]),t("ul",null,[t("li",null,[t("div",{class:"language-ts"},[t("pre",null,[t("code",null,`(el: Ref<HTMLElement> | HTMLElement, options?: DragPreviewOptions) => HTMLElement
`),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1704933648949-38954"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`(el: Ref<HTMLElement> | HTMLElement, options?: DragPreviewOptions) => HTMLElement
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1704933648949-38954","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])])])]),t("li",null,[e("Drag and drop previewed connector functions. It is optional, "),t("strong",null,"default uses dragSource as preview element"),e(", receives a draggable DOM element of "),t("code",null,"Ref<HTMLElement> | HTMLElement"),e(";")]),t("li",null,"The second parameter is an options object, which is consistent with the previewOptions of the Specification object")])])],-1),p=n("",3),u=[i,d,l,r,p];function m(g,h,y,f,k,b){return c(),a("div",null,u)}var T=o(s,[["render",m]]);export{_ as __pageData,T as default};
