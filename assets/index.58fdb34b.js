var R=Object.defineProperty,P=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var S=(t,e,a)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,y=(t,e)=>{for(var a in e||(e={}))C.call(e,a)&&S(t,a,e[a]);if(I)for(var a of I(e))E.call(e,a)&&S(t,a,e[a]);return t},D=(t,e)=>P(t,$(e));import"./index.ea8fdaf2.js";import{u as F}from"./useDrop.0a8ad276.js";import{a as A}from"./main.0fbd7173.js";import{d as k,q as v,u as l,h as n,a as p,j as w,t as h,K as N,s as B,n as f,o as G,b as _,F as O,r as b,J as x,U as V,L as z}from"./vendor.5fb5b3db.js";import{u as M}from"./useDrag.9e816804.js";import"./connectDragRef.a5dc16fa.js";const T={key:0},U=k({props:{lastDroppedItem:null,accepts:null,onDrop:null},setup(t){const e=t,a={height:"12rem",width:"12rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"white",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},[d,m]=F(()=>({accept:e.accepts,collect:o=>({isOver:o.isOver(),canDrop:o.canDrop()}),drop:o=>e.onDrop(o)})),{canDrop:i,isOver:u}=A(d),r=v(()=>l(i)&&l(u)),s=v(()=>r.value?"darkgreen":i.value?"darkkhaki":"#222");return(o,g)=>(n(),p("div",{ref:l(m),style:B(D(y({},a),{backgroundColor:l(s)}))},[w(h(l(r)?"Release to drop":`This dustbin accepts: ${t.accepts.join(",")}`)+" ",1),t.lastDroppedItem?(n(),p("p",T," Last dropped: "+h(JSON.stringify(t.lastDroppedItem)),1)):N("",!0)],4))}}),j={key:0},J={key:1},q=k({props:{name:null,type:null,isDropped:{type:Boolean}},setup(t){const e=t,a={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},[d,m]=M(()=>({type:e.type,item:{name:e.name},isDragging(r){const s=r.getItem();return e.name===s.name},collect:r=>({isDragging:r.isDragging()})})),{isDragging:i}=A(d),u=v(()=>l(i)?.4:1);return(r,s)=>(n(),p("div",{ref:l(m),style:B(D(y({},a),{opacity:l(u)}))},[t.isDropped?(n(),p("s",j,h(t.name),1)):(n(),p("span",J,h(t.name),1))],4))}}),c={FOOD:"food",GLASS:"glass",PAPER:"paper"},H={style:{overflow:"hidden",clear:"both"}},K={style:{overflow:"hidden",clear:"both"}},Q=k({setup(t){const e=f([{id:1,accepts:[c.GLASS],lastDroppedItem:null},{id:2,accepts:[c.FOOD],lastDroppedItem:null},{id:3,accepts:[c.PAPER,c.GLASS,V],lastDroppedItem:null},{id:4,accepts:[c.PAPER,z],lastDroppedItem:null}]),a=f([{name:"Bottle",type:c.GLASS},{name:"Banana",type:c.FOOD},{name:"Magazine",type:c.PAPER}]),d=f([]),m=setInterval(()=>{a.value.sort(()=>Math.random()-.5),e.value.sort(()=>Math.random()-.5)},4e3);G(()=>{clearInterval(m)});const i=r=>d.value.indexOf(r)>-1,u=(r,s)=>{const{name:o}=s;e.value[r].lastDroppedItem=s,o&&d.value.push(o)};return(r,s)=>(n(),p("div",null,[_("div",H,[(n(!0),p(O,null,b(e.value,(o,g)=>(n(),x(U,{key:`${o.id}`,accepts:o.accepts,"last-dropped-item":o.lastDroppedItem,"on-drop":L=>u(g,L)},null,8,["accepts","last-dropped-item","on-drop"]))),128))]),_("div",K,[(n(!0),p(O,null,b(a.value,(o,g)=>(n(),x(q,{key:g,name:o.name,type:o.type,"is-dropped":i(o.name)},null,8,["name","type","is-dropped"]))),128))])]))}});var oe=Q;export{oe as default};
