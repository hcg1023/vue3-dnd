var $=Object.defineProperty,P=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var I=(t,e,n)=>e in t?$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))w.call(e,n)&&I(t,n,e[n]);if(b)for(var n of b(e))E.call(e,n)&&I(t,n,e[n]);return t},y=(t,e)=>P(t,L(e));import{d as k,f as F,k as v,e as r,o,c as l,b as N,t as D,y as C,n as R,u as G,w as f,U as V,J as z,v as M,a as d,F as x,p as O,q as S,g as T}from"./app.e05e657c.js";import{t as A}from"./chunks/index.0dd512a2.js";const U={key:0},j=k({props:{lastDroppedItem:null,accepts:null,onDrop:null},setup(t){const e=t,n={height:"12rem",width:"12rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"white",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},[i,m]=F(()=>({accept:e.accepts,collect:s=>({isOver:s.isOver(),canDrop:s.canDrop()}),drop:s=>e.onDrop(s)})),{canDrop:u,isOver:g}=A(i),a=v(()=>r(u)&&r(g)),c=v(()=>a.value?"darkgreen":u.value?"darkkhaki":"#222");return(s,h)=>(o(),l("div",{ref:r(m),style:R(y(_({},n),{backgroundColor:r(c)}))},[N(D(r(a)?"Release to drop":`This dustbin accepts: ${t.accepts.join(",")}`)+" ",1),t.lastDroppedItem?(o(),l("p",U," Last dropped: "+D(JSON.stringify(t.lastDroppedItem)),1)):C("",!0)],4))}}),J={key:0},q={key:1},H=k({props:{name:null,type:null,isDropped:{type:Boolean}},setup(t){const e=t,n={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},[i,m]=G(()=>({type:e.type,item:{name:e.name},isDragging(a){const c=a.getItem();return e.name===c.name},collect:a=>({isDragging:a.isDragging()})})),{isDragging:u}=A(i),g=v(()=>r(u)?.4:1);return(a,c)=>(o(),l("div",{ref:r(m),style:R(y(_({},n),{opacity:r(g)}))},[t.isDropped?(o(),l("s",J,D(t.name),1)):(o(),l("span",q,D(t.name),1))],4))}}),p={FOOD:"food",GLASS:"glass",PAPER:"paper"},K={style:{overflow:"hidden",clear:"both"}},Q={style:{overflow:"hidden",clear:"both"}},W=k({setup(t){const e=f([{id:1,accepts:[p.GLASS],lastDroppedItem:null},{id:2,accepts:[p.FOOD],lastDroppedItem:null},{id:3,accepts:[p.PAPER,p.GLASS,V],lastDroppedItem:null},{id:4,accepts:[p.PAPER,z],lastDroppedItem:null}]),n=f([{name:"Bottle",type:p.GLASS},{name:"Banana",type:p.FOOD},{name:"Magazine",type:p.PAPER}]),i=f([]),m=setInterval(()=>{n.value.sort(()=>Math.random()-.5),e.value.sort(()=>Math.random()-.5)},4e3);M(()=>{clearInterval(m)});const u=a=>i.value.indexOf(a)>-1,g=(a,c)=>{const{name:s}=c;e.value[a].lastDroppedItem=c,s&&i.value.push(s)};return(a,c)=>(o(),l("div",null,[d("div",K,[(o(!0),l(x,null,O(e.value,(s,h)=>(o(),S(j,{key:`${s.id}`,accepts:s.accepts,"last-dropped-item":s.lastDroppedItem,"on-drop":B=>g(h,B)},null,8,["accepts","last-dropped-item","on-drop"]))),128))]),d("div",Q,[(o(!0),l(x,null,O(n.value,(s,h)=>(o(),S(H,{key:h,name:s.name,type:s.type,"is-dropped":u(s.name)},null,8,["name","type","is-dropped"]))),128))])]))}}),X=d("p",null,"\u6B64\u793A\u4F8B\u4E0E\u4E0A\u4E00\u4E2A\u793A\u4F8B\u7C7B\u4F3C\uFF0C\u4F46\u62D6\u52A8\u6E90\u548C\u653E\u7F6E\u76EE\u6807\u7684 props \u6BCF\u79D2\u90FD\u5728\u53D8\u5316\u3002\u5B83\u6F14\u793A\u4E86 React DnD \u8DDF\u8E2A\u4E0D\u65AD\u53D8\u5316\u7684 props\uFF0C\u5982\u679C\u7EC4\u4EF6\u63A5\u6536\u5230\u65B0\u7684 props\uFF0CReact DnD \u4F1A\u91CD\u65B0\u8BA1\u7B97\u62D6\u653E\u72B6\u6001\u3002\u5B83\u8FD8\u5C55\u793A\u4E86\u81EA\u5B9A\u4E49isDragging\u5B9E\u73B0\u5982\u4F55\u4F7F\u62D6\u52A8\u6E90\u663E\u793A\u4E3A\u5DF2\u62D6\u52A8\uFF0C\u5373\u4F7F\u542F\u52A8\u62D6\u52A8\u7684\u7EC4\u4EF6\u5DF2\u6536\u5230\u65B0\u7684\u9053\u5177\u3002",-1),Y=d("hr",null,null,-1),Z=d("br",null,null,-1),ee=d("br",null,null,-1),te=d("br",null,null,-1),re='{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"example/dustbin/stress-test.md"}',ne={},le=Object.assign(ne,{setup(t){return(e,n)=>(o(),l("div",null,[X,Y,Z,ee,te,T(r(W))]))}});export{re as __pageData,le as default};
