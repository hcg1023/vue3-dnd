import{d as C,x as y,f as B,u as A,k as F,o as d,c as p,t as O,n as S,e as f,_ as E,F as M,q as T,s as b}from"../app.3f294c87.js";import{t as g}from"./index.7659ba2e.js";const h={CARD:"card"};const w=["data-handler-id"],W=C({__name:"Card",props:{id:{},text:{},index:{},moveCard:{type:Function}},setup(u){const t=u,r=y(),[o,s]=B({accept:h.CARD,collect(e){return{handlerId:e.getHandlerId()}},hover(e,_){var v;if(!r.value)return;const i=e.index,a=t.index;if(i===a)return;const l=(v=r.value)==null?void 0:v.getBoundingClientRect(),x=(l.bottom-l.top)/2,m=_.getClientOffset().y-l.top;i<a&&m<x||i>a&&m>x||(t.moveCard(i,a),e.index=a)}}),[n,c]=A({type:h.CARD,item:()=>({id:t.id,index:t.index}),collect:e=>({isDragging:e.isDragging()})}),{handlerId:D}=g(o),{isDragging:R}=g(n),I=F(()=>f(R)?0:1),k=e=>{r.value=c(s(e))};return(e,_)=>(d(),p("div",{ref:k,class:"card",style:S({opacity:I.value}),"data-handler-id":f(D)},O(e.text),13,w))}});var Y=E(W,[["__scopeId","data-v-72683321"]]);const $={style:{width:"400px"}},J=C({__name:"Container",setup(u){const t=y([{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Spam in Twitter and IRC to promote it (note that this element is taller than the others)"},{id:6,text:"???"},{id:7,text:"PROFIT"}]),r=(o,s)=>{const n=t.value[o];t.value.splice(o,1),t.value.splice(s,0,n)};return(o,s)=>(d(),p("div",$,[(d(!0),p(M,null,T(t.value,(n,c)=>(d(),b(Y,{id:n.id,key:n.id,text:n.text,index:c,"move-card":r},null,8,["id","text","index"]))),128))]))}});export{J as _};
