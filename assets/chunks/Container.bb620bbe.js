import{d as g,x as B,u as E,k as u,o as d,c as i,b as p,A as S,e,n as D,_ as b,M as C,N as x,f as $,t as w,z as O,s as T,v as I,a as c,B as L}from"../app.14328452.js";import{t as k}from"./index.20b6c65a.js";const t={YELLOW:"yellow",BLUE:"blue"};const U=r=>(C("data-v-1e280e14"),r=r(),x(),r),W=["data-color"],Y=["checked"],N=U(()=>p("small",null,"Forbid drag",-1)),F=g({__name:"SourceBox",props:{color:{}},setup(r){const l=r,a=B(!1),[s,_]=E(()=>({type:l.color,canDrag:!a.value,collect:o=>({isDragging:o.isDragging()})})),{isDragging:v}=k(s),f=()=>{a.value=!a.value},h=u(()=>{switch(l.color){case t.YELLOW:return"lightgoldenrodyellow";case t.BLUE:return"lightblue";default:return"lightgoldenrodyellow"}}),m=u(()=>({backgroundColor:e(h),opacity:e(v)?.4:1,cursor:e(a)?"default":"move"}));return(o,y)=>(d(),i("div",{ref:e(_),class:"source-box",style:D(m.value),role:"SourceBox","data-color":o.color},[p("input",{type:"checkbox",checked:a.value,onChange:f},null,40,Y),N,S(o.$slots,"default",{},void 0,!0)],12,W))}});var n=b(F,[["__scopeId","data-v-1e280e14"]]);const V=r=>(C("data-v-e60ba820"),r=r(),x(),r),z=["data-color"],A=V(()=>p("p",null,"Drop here.",-1)),M={key:0},P=g({__name:"TargetBox",props:{onDrop:{type:Function},lastDroppedColor:{}},setup(r){const l=r,[a,s]=$(()=>({accept:[t.YELLOW,t.BLUE],drop(o,y){l.onDrop(y.getItemType())},collect:o=>({isOver:o.isOver(),canDrop:o.canDrop(),draggingColor:o.getItemType()})})),{isOver:_,draggingColor:v,canDrop:f}=k(a),h=u(()=>e(_)?1:.7),m=u(()=>{let o="#fff";switch(e(v)){case t.BLUE:o="lightblue";break;case t.YELLOW:o="lightgoldenrodyellow";break}return o});return(o,y)=>(d(),i("div",{ref:e(s),"data-color":o.lastDroppedColor||"none",style:D({backgroundColor:m.value,opacity:h.value}),class:"target-box",role:"TargetBox"},[A,!e(f)&&o.lastDroppedColor?(d(),i("p",M," Last dropped: "+w(o.lastDroppedColor),1)):O("",!0)],12,z))}});var R=b(P,[["__scopeId","data-v-e60ba820"]]);const j=g({__name:"StatefulTargetBox",setup(r){const l=B(null),a=s=>l.value=s;return(s,_)=>(d(),T(R,I(s.$attrs,{"last-dropped-color":l.value,"on-drop":a}),null,16,["last-dropped-color"]))}}),q={style:{overflow:"hidden",clear:"both",margin:"-.5rem"}},G={style:{float:"left"}},H={style:{float:"left",marginLeft:"5rem",marginTop:".5rem"}},Q=g({__name:"Container",setup(r){return(l,a)=>(d(),i("div",q,[p("div",G,[c(n,{color:e(t).BLUE},{default:L(()=>[c(n,{color:e(t).YELLOW},{default:L(()=>[c(n,{color:e(t).YELLOW},null,8,["color"]),c(n,{color:e(t).BLUE},null,8,["color"])]),_:1},8,["color"]),c(n,{color:e(t).BLUE},{default:L(()=>[c(n,{color:e(t).YELLOW},null,8,["color"])]),_:1},8,["color"])]),_:1},8,["color"])]),p("div",H,[c(j)])]))}});export{Q as _};
