import{d as f,k as m,u as g,f as v,o,c as u,t as y,e as s,n as D,_ as I,x as R,F as k,q as S,s as h}from"../app.1c6f1302.js";import{t as A}from"./index.bc111e59.js";const x={CARD:"card"};const E=f({__name:"Card",props:{id:{},text:{},moveCard:{type:Function},findCard:{type:Function}},setup(_){const t=_,i=m(()=>t.findCard(t.id).index),[d,c]=g(()=>({type:x.CARD,item:()=>({id:t.id,originalIndex:i.value}),collect:e=>({isDragging:e.isDragging()}),end:(e,a)=>{const{id:l,originalIndex:C}=e;a.didDrop()||t.moveCard(l,C)}})),[,p]=v(()=>({accept:x.CARD,hover({id:e}){if(e!==t.id){const{index:a}=t.findCard(t.id);t.moveCard(e,a)}}})),{isDragging:n}=A(d),r=m(()=>s(n)?0:1);return(e,a)=>(o(),u("div",{ref:l=>s(c)(s(p)(l)),class:"card",style:D({opacity:r.value})},y(e.text),5))}});var F=I(E,[["__scopeId","data-v-cdb4db82"]]);const B=f({__name:"Container",setup(_){const i=R([{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Spam in Twitter and IRC to promote it"},{id:6,text:"???"},{id:7,text:"PROFIT"}]),d=n=>{const r=i.value.filter(e=>`${e.id}`===n)[0];return{card:r,index:i.value.indexOf(r)}},c=(n,r)=>{const{card:e,index:a}=d(n);i.value.splice(a,1),i.value.splice(r,0,e)},[,p]=v(()=>({accept:x.CARD}));return(n,r)=>(o(),u("div",{ref:s(p),style:{width:"400px"}},[(o(!0),u(k,null,S(i.value,e=>(o(),h(F,{id:`${e.id}`,key:e.id,text:e.text,"move-card":c,"find-card":d},null,8,["id","text"]))),128))],512))}});export{B as _};
