import{d as h,f as A,k as f,o as a,c as s,j as B,t as y,z as O,e as c,n as S,u as L,F as g,x as D,b as v,q as k,U as R,L as P,s as b}from"../app.3f294c87.js";import{t as I}from"./index.7659ba2e.js";const F={key:0},x=h({__name:"Dustbin",props:{accept:{},lastDroppedItem:{},onDrop:{type:Function}},setup(u){const l={height:"12rem",width:"12rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"white",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},n=u,[d,m]=A({accept:n.accept,drop:n.onDrop,collect:t=>({isOver:t.isOver(),canDrop:t.canDrop()})}),{canDrop:i,isOver:e}=I(d),p=f(()=>c(i)&&c(e)),o=f(()=>c(p)?"darkgreen":c(i)?"darkkhaki":"#222");return(t,_)=>(a(),s("div",{ref:c(m),role:"Dustbin",style:S({...l,backgroundColor:o.value}),"data-testid":"dustbin"},[B(y(p.value?"Release to drop":`This dustbin accepts: ${t.accept.join(", ")}`)+" ",1),t.lastDroppedItem?(a(),s("p",F," Last dropped: "+y(JSON.stringify(t.lastDroppedItem)),1)):O("",!0)],4))}}),C={key:0},E=h({__name:"Box",props:{name:{},type:{},isDropped:{type:Boolean}},setup(u){const l={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},n=u,[d,m]=L(()=>({type:n.type,item:{name:n.name},collect:e=>({opacity:e.isDragging()?.4:1})})),{opacity:i}=I(d);return(e,p)=>(a(),s("div",{ref:c(m),role:"Box",style:S({...l,opacity:c(i)}),"data-testid":"box"},[e.isDropped?(a(),s("s",C,y(e.name),1)):(a(),s(g,{key:1},[B(y(e.name),1)],64))],4))}}),r={FOOD:"food",GLASS:"glass",PAPER:"paper"},w={style:{overflow:"hidden",clear:"both"}},N={style:{overflow:"hidden",clear:"both"}},G=h({__name:"Container",setup(u){const l=D([{accepts:[r.GLASS],lastDroppedItem:null},{accepts:[r.FOOD],lastDroppedItem:null},{accepts:[r.PAPER,r.GLASS,R],lastDroppedItem:null},{accepts:[r.PAPER,P],lastDroppedItem:null}]),n=D([{name:"Bottle",type:r.GLASS},{name:"Banana",type:r.FOOD},{name:"Magazine",type:r.PAPER}]),d=D([]);function m(e){return d.value.includes(e)}const i=(e,p)=>{const{name:o}=p;d.value.push(o),l.value[e].lastDroppedItem=p};return(e,p)=>(a(),s("div",null,[v("div",w,[(a(!0),s(g,null,k(l.value,(o,t)=>(a(),b(x,{key:t,accept:o.accepts,"last-dropped-item":o.lastDroppedItem,onDrop:_=>i(t,_)},null,8,["accept","last-dropped-item","onDrop"]))),128))]),v("div",N,[(a(!0),s(g,null,k(n.value,(o,t)=>(a(),b(E,{key:t,name:o.name,type:o.type,"is-dropped":m(o.name)},null,8,["name","type","is-dropped"]))),128))])]))}});export{G as _};
