var B=Object.defineProperty,$=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var I=(t,e,s)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,_=(t,e)=>{for(var s in e||(e={}))L.call(e,s)&&I(t,s,e[s]);if(k)for(var s of k(e))w.call(e,s)&&I(t,s,e[s]);return t},D=(t,e)=>$(t,P(e));import{d as y,f as E,k as v,e as c,o as a,c as p,b as F,t as h,y as N,n as R,u as C,w as f,U as G,J as M,l as V,v as z,a as d,F as x,p as O,q as S,g as T}from"./app.659e5859.js";import{t as A}from"./chunks/index.d5b3e1f5.js";const U={key:0},j=y({props:{lastDroppedItem:null,accepts:null,onDrop:null},setup(t){const e=t,s={height:"12rem",width:"12rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"white",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},[u,g]=E(()=>({accept:e.accepts,collect:l=>({isOver:l.isOver(),canDrop:l.canDrop()}),drop:l=>e.onDrop(l)})),{canDrop:m,isOver:r}=A(u),o=v(()=>c(m)&&c(r)),n=v(()=>o.value?"darkgreen":m.value?"darkkhaki":"#222");return(l,b)=>(a(),p("div",{ref:c(g),style:R(D(_({},s),{backgroundColor:c(n)}))},[F(h(c(o)?"Release to drop":`This dustbin accepts: ${t.accepts.join(",")}`)+" ",1),t.lastDroppedItem?(a(),p("p",U," Last dropped: "+h(JSON.stringify(t.lastDroppedItem)),1)):N("",!0)],4))}}),J={key:0},q={key:1},H=y({props:{name:null,type:null,isDropped:{type:Boolean}},setup(t){const e=t,s={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},[u,g]=C(()=>({type:e.type,item:{name:e.name},isDragging(o){const n=o.getItem();return e.name===n.name},collect:o=>({isDragging:o.isDragging()})})),{isDragging:m}=A(u),r=v(()=>c(m)?.4:1);return(o,n)=>(a(),p("div",{ref:c(g),style:R(D(_({},s),{opacity:c(r)}))},[t.isDropped?(a(),p("s",J,h(t.name),1)):(a(),p("span",q,h(t.name),1))],4))}}),i={FOOD:"food",GLASS:"glass",PAPER:"paper"},K={style:{overflow:"hidden",clear:"both"}},Q={style:{overflow:"hidden",clear:"both"}},W=y({setup(t){const e=f([{id:1,accepts:[i.GLASS],lastDroppedItem:null},{id:2,accepts:[i.FOOD],lastDroppedItem:null},{id:3,accepts:[i.PAPER,i.GLASS,G],lastDroppedItem:null},{id:4,accepts:[i.PAPER,M],lastDroppedItem:null}]),s=f([{name:"Bottle",type:i.GLASS},{name:"Banana",type:i.FOOD},{name:"Magazine",type:i.PAPER}]),u=f([]);V(()=>{const r=setInterval(()=>{s.value.sort(()=>Math.random()-.5),e.value.sort(()=>Math.random()-.5)},4e3);z(()=>{clearInterval(r)})});const g=r=>u.value.indexOf(r)>-1,m=(r,o)=>{const{name:n}=o;e.value[r].lastDroppedItem=o,n&&u.value.push(n)};return(r,o)=>(a(),p("div",null,[d("div",K,[(a(!0),p(x,null,O(e.value,(n,l)=>(a(),S(j,{key:`${n.id}`,accepts:n.accepts,"last-dropped-item":n.lastDroppedItem,"on-drop":b=>m(l,b)},null,8,["accepts","last-dropped-item","on-drop"]))),128))]),d("div",Q,[(a(!0),p(x,null,O(s.value,(n,l)=>(a(),S(H,{key:l,name:n.name,type:n.type,"is-dropped":g(n.name)},null,8,["name","type","is-dropped"]))),128))])]))}}),X=d("p",null,"\u6B64\u793A\u4F8B\u4E0E\u4E0A\u4E00\u4E2A\u793A\u4F8B\u7C7B\u4F3C\uFF0C\u4F46\u62D6\u52A8\u6E90\u548C\u653E\u7F6E\u76EE\u6807\u7684 props \u6BCF\u79D2\u90FD\u5728\u53D8\u5316\u3002\u5B83\u6F14\u793A\u4E86 React DnD \u8DDF\u8E2A\u4E0D\u65AD\u53D8\u5316\u7684 props\uFF0C\u5982\u679C\u7EC4\u4EF6\u63A5\u6536\u5230\u65B0\u7684 props\uFF0CReact DnD \u4F1A\u91CD\u65B0\u8BA1\u7B97\u62D6\u653E\u72B6\u6001\u3002\u5B83\u8FD8\u5C55\u793A\u4E86\u81EA\u5B9A\u4E49isDragging\u5B9E\u73B0\u5982\u4F55\u4F7F\u62D6\u52A8\u6E90\u663E\u793A\u4E3A\u5DF2\u62D6\u52A8\uFF0C\u5373\u4F7F\u542F\u52A8\u62D6\u52A8\u7684\u7EC4\u4EF6\u5DF2\u6536\u5230\u65B0\u7684\u9053\u5177\u3002",-1),Y=d("hr",null,null,-1),Z=d("br",null,null,-1),ee=d("br",null,null,-1),te=d("br",null,null,-1),se=d("p",null,[d("a",{href:"https://github.com/hcg1023/vue3-dnd/tree/main/packages/docs/src/.vitepress/examples/01-dustbin/stress-test",target:"_blank",rel:"noopener noreferrer"},"\u67E5\u770B\u6E90\u7801")],-1),le='{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"example/dustbin/stress-test.md"}',ne={},ce=Object.assign(ne,{setup(t){return(e,s)=>(a(),p("div",null,[X,Y,Z,ee,te,T(c(W)),se]))}});export{le as __pageData,ce as default};
