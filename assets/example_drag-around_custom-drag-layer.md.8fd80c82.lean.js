import{_ as y,d as g,k as C,o as i,c as _,t as G,n as D,e as o,u as S,l as B,m as O,g as f,r as P,f as A,F as L,p as M,q as $,s as X,v as W,w as x,x as j,a as r,y as F}from"./app.659e5859.js";import{t as T}from"./chunks/index.d5b3e1f5.js";const b={BOX:"box"};const N=["role"],V=g({props:{title:null,yellow:{type:Boolean},preview:{type:Boolean}},setup(n){const e=n,t=C(()=>e.yellow?"yellow":"white");return(s,d)=>(i(),_("div",{class:"box",style:D({backgroundColor:o(t)}),role:n.preview?"BoxPreview":"Box"},G(n.title),13,N))}});var k=y(V,[["__scopeId","data-v-66657dc4"]]);const E=g({props:{id:null,title:null,left:null,top:null},setup(n){const e=n,[t,s,d]=S(()=>({type:b.BOX,item:e,collect:c=>({isDragging:c.isDragging()})}));B(()=>{d(O(),{captureDraggingState:!0})});const{isDragging:l}=T(t);return(c,u)=>(i(),_("div",{ref:o(s),style:D({position:"absolute",transform:`translate3d(${n.left}px, ${n.top}px, 0)`,opacity:o(l)?0:1,height:o(l)?0:""}),role:"DraggableBox"},[f(k,{title:n.title},null,8,["title"])],4))}});function w(n,e){const t=Math.round(n/32)*32,s=Math.round(e/32)*32;return[t,s]}const U=g({props:{snapToGrid:{type:Boolean}},setup(n){const e=n,t=P({a:{top:20,left:80,title:"Drag me around"},b:{top:180,left:20,title:"Drag me too"}}),s=(l,c,u)=>{Object.assign(t[l],{left:c,top:u})},[,d]=A(()=>({accept:b.BOX,drop(l,c){const u=c.getDifferenceFromInitialOffset();let p=Math.round(l.left+u.x),a=Math.round(l.top+u.y);e.snapToGrid&&([p,a]=w(p,a)),s(l.id,p,a)}}));return(l,c)=>(i(),_("div",{ref:o(d),class:"container"},[(i(!0),_(L,null,M(o(t),(u,p)=>(i(),$(E,X({id:p,key:p},u),null,16,["id"]))),128))],512))}});var q=y(U,[["__scopeId","data-v-6e7dfca1"]]);const z={class:"box-drag-preview"},Q=g({props:{title:null},setup(n){B(()=>{const t=setInterval(()=>e.value=!e.value,500);W(()=>{clearInterval(t)})});const e=x(!1);return(t,s)=>(i(),_("div",z,[f(k,{title:n.title,yellow:e.value,preview:""},null,8,["title","yellow"])]))}});var R=y(Q,[["__scopeId","data-v-3563bfe4"]]);const Y={class:"layer"},H=g({props:{snapToGrid:{type:Boolean}},setup(n){const e=n;function t(a,m,I){if(!a||!m)return{display:"none"};let{x:v,y:h}=m;return I&&(v-=a.x,h-=a.y,[v,h]=w(v,h),v+=a.x,h+=a.y),{transform:`translate(${v}px, ${h}px)`}}const s=j(a=>({item:a.getItem(),itemType:a.getItemType(),initialOffset:a.getInitialSourceClientOffset(),currentOffset:a.getSourceClientOffset(),isDragging:a.isDragging()})),{itemType:d,isDragging:l,item:c,initialOffset:u,currentOffset:p}=T(s);return(a,m)=>(i(),_("div",Y,[r("div",{style:D(t(o(u),o(p),e.snapToGrid))},[o(d)===o(b).BOX?(i(),$(R,{key:0,title:o(c).title},null,8,["title"])):F("",!0)],4)]))}});var J=y(H,[["__scopeId","data-v-27dc481a"]]);const K={for:"snapToGridWhileDragging"},Z=["checked"],ee=r("small",null,"Snap to grid while dragging",-1),te=r("br",null,null,-1),ne={for:"snapToGridAfterDrop"},re=["checked"],ae=r("small",null,"Snap to grid after drop",-1),oe=g({setup(n){const e=x(!1),t=x(!1),s=()=>{e.value=!e.value},d=()=>{t.value=!t.value};return(l,c)=>(i(),_("div",null,[f(q,{"snap-to-grid":e.value},null,8,["snap-to-grid"]),f(J,{"snap-to-grid":t.value},null,8,["snap-to-grid"]),r("p",null,[r("label",K,[r("input",{id:"snapToGridWhileDragging",type:"checkbox",checked:t.value,onChange:d},null,40,Z),ee]),te,r("label",ne,[r("input",{id:"snapToGridAfterDrop",type:"checkbox",checked:e.value,onChange:s},null,40,re),ae])])]))}}),se=r("p",null,"\u6D4F\u89C8\u5668 API \u65E0\u6CD5\u5728\u62D6\u52A8\u5F00\u59CB\u540E\u66F4\u6539\u62D6\u52A8\u9884\u89C8\u6216\u5176\u884C\u4E3A\u3002\u50CF jQuery UI \u8FD9\u6837\u7684\u5E93\u5B9E\u73B0\u4E86\u4ECE\u5934\u5F00\u59CB\u7684\u62D6\u653E\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F react-dnd \u76EE\u524D\u53EA\u652F\u6301\u6D4F\u89C8\u5668\u62D6\u653E\u201C\u540E\u7AEF\u201D\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E0D\u5F97\u4E0D\u63A5\u53D7\u5B83\u7684\u5C40\u9650\u6027\u3002\u4F46\u662F\uFF0C\u5982\u679C\u6211\u4EEC\u5411\u6D4F\u89C8\u5668\u63D0\u4F9B\u4E00\u4E2A\u7A7A\u56FE\u50CF\u4F5C\u4E3A\u62D6\u52A8\u9884\u89C8\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5927\u91CF\u81EA\u5B9A\u4E49\u884C\u4E3A\u3002\u8FD9\u4E2A\u5E93\u63D0\u4F9B\u4E86\u4E00\u4E2A DragLayer\u4F60\u53EF\u4EE5\u7528\u6765\u5728\u4F60\u7684\u5E94\u7528\u9876\u90E8\u5B9E\u73B0\u4E00\u4E2A\u56FA\u5B9A\u7684\u5C42\uFF0C\u4F60\u53EF\u4EE5\u5728\u5176\u4E2D\u7ED8\u5236\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u62D6\u52A8\u9884\u89C8\u7EC4\u4EF6\u3002\u8BF7\u6CE8\u610F\uFF0C\u5982\u679C\u6211\u4EEC\u613F\u610F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u62D6\u52A8\u5C42\u4E0A\u7ED8\u5236\u5B8C\u5168\u4E0D\u540C\u7684\u7EC4\u4EF6\u3002\u8FD9\u4E0D\u4EC5\u4EC5\u662F\u4E00\u4E2A\u5C4F\u5E55\u622A\u56FE\u3002",-1),le=r("p",null,"\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\uFF0C\u6211\u4EEC\u5728\u79BB\u5F00\u5BB9\u5668\u65F6\u9519\u8FC7\u4E86\u9ED8\u8BA4\u7684\u201C\u8FD4\u56DE\u201D\u52A8\u753B\u3002\u4F46\u662F\uFF0C\u6211\u4EEC\u5728\u81EA\u5B9A\u4E49\u62D6\u52A8\u53CD\u9988\u548C\u96F6\u95EA\u70C1\u65B9\u9762\u83B7\u5F97\u4E86\u6781\u5927\u7684\u7075\u6D3B\u6027\u3002",-1),ce=r("hr",null,null,-1),ie=r("br",null,null,-1),ue=r("br",null,null,-1),de=r("br",null,null,-1),pe=r("p",null,[r("a",{href:"https://github.com/hcg1023/vue3-dnd/tree/main/packages/docs/src/.vitepress/examples/02-drag-around/custom-drag-layer",target:"_blank",rel:"noopener noreferrer"},"\u67E5\u770B\u6E90\u7801")],-1),fe='{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"example/drag-around/custom-drag-layer.md"}',_e={},ye=Object.assign(_e,{setup(n){return(e,t)=>(i(),_("div",null,[se,le,ce,ie,ue,de,f(o(oe)),pe]))}});export{fe as __pageData,ye as default};
