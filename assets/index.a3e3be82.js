import{_ as B}from"./index.ea8fdaf2.js";import{u as A}from"./useDrag.9e816804.js";import{u as O}from"./useDrop.0a8ad276.js";import{a as g}from"./main.0fbd7173.js";import{d as C,n as y,q as S,u as p,h as d,a as m,t as E,s as F,F as M,r as T,J as b}from"./vendor.5fb5b3db.js";import"./connectDragRef.a5dc16fa.js";const h={CARD:"card"};const w=["data-handler-id"],J=C({props:{id:null,text:null,index:null,moveCard:null},setup(c){const e=c,n=y(),[o,i]=O({accept:h.CARD,collect(t){return{handlerId:t.getHandlerId()}},hover(t,f){var _;if(!n.value)return;const s=t.index,a=e.index;if(s===a)return;const u=(_=n.value)==null?void 0:_.getBoundingClientRect(),x=(u.bottom-u.top)/2,v=f.getClientOffset().y-u.top;s<a&&v<x||s>a&&v>x||(e.moveCard(s,a),t.index=a)}}),[r,l]=A({type:h.CARD,item:()=>({id:e.id,index:e.index}),collect:t=>({isDragging:t.isDragging()})}),{handlerId:D}=g(o),{isDragging:R}=g(r),I=S(()=>p(R)?0:1),k=t=>{n.value=l.value(i.value(t))};return(t,f)=>(d(),m("div",{ref:k,class:"card",style:F({opacity:p(I)}),"data-handler-id":p(D)},E(c.text),13,w))}});var W=B(J,[["__scopeId","data-v-3f639ecf"]]);const Y={style:{width:"400px"}},$=C({setup(c){const e=y([{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Spam in Twitter and IRC to promote it (note that this element is taller than the others)"},{id:6,text:"???"},{id:7,text:"PROFIT"}]),n=(o,i)=>{const r=e.value[o];e.value.splice(o,1),e.value.splice(i,0,r)};return(o,i)=>(d(),m("div",Y,[(d(!0),m(M,null,T(e.value,(r,l)=>(d(),b(W,{id:r.id,key:r.id,text:r.text,index:l,"move-card":n},null,8,["id","text","index"]))),128))]))}});var G=$;export{G as default};
