import{_ as y,d as g,k,o as i,c as _,t as C,n as D,e as r,u as G,l as S,m as O,g as h,r as P,f as A,F as L,p as M,q as b,s as X,v as W,w as x,x as j,a as o,y as F}from"./app.847c0257.js";import{t as $}from"./chunks/index.dd4d4a19.js";const B={BOX:"box"};const N=["role"],V=g({props:{title:null,yellow:{type:Boolean},preview:{type:Boolean}},setup(t){const n=t,e=k(()=>n.yellow?"yellow":"white");return(s,u)=>(i(),_("div",{class:"box",style:D({backgroundColor:r(e)}),role:t.preview?"BoxPreview":"Box"},C(t.title),13,N))}});var T=y(V,[["__scopeId","data-v-294f4e2a"]]);const E=g({props:{id:null,title:null,left:null,top:null},setup(t){const n=t,[e,s,u]=G(()=>({type:B.BOX,item:n,collect:c=>({isDragging:c.isDragging()})}));S(()=>{u.value(O(),{captureDraggingState:!0})});const{isDragging:l}=$(e);return(c,p)=>(i(),_("div",{ref:r(s),style:D({position:"absolute",transform:`translate3d(${t.left}px, ${t.top}px, 0)`,opacity:r(l)?0:1,height:r(l)?0:""}),role:"DraggableBox"},[h(T,{title:t.title},null,8,["title"])],4))}});function w(t,n){const e=Math.round(t/32)*32,s=Math.round(n/32)*32;return[e,s]}const U=g({props:{snapToGrid:{type:Boolean}},setup(t){const n=t,e=P({a:{top:20,left:80,title:"Drag me around"},b:{top:180,left:20,title:"Drag me too"}}),s=(l,c,p)=>{Object.assign(e[l],{left:c,top:p})},[,u]=A(()=>({accept:B.BOX,drop(l,c){const p=c.getDifferenceFromInitialOffset();let d=Math.round(l.left+p.x),a=Math.round(l.top+p.y);n.snapToGrid&&([d,a]=w(d,a)),s(l.id,d,a)}}));return(l,c)=>(i(),_("div",{ref:r(u),class:"container"},[(i(!0),_(L,null,M(r(e),(p,d)=>(i(),b(E,X({id:d,key:d},p),null,16,["id"]))),128))],512))}});var q=y(U,[["__scopeId","data-v-f86d4750"]]);const z={class:"box-drag-preview"},Q=g({props:{title:null},setup(t){const n=setInterval(()=>e.value=!e.value,500);W(()=>{clearInterval(n)});const e=x(!1);return(s,u)=>(i(),_("div",z,[h(T,{title:t.title,yellow:e.value,preview:""},null,8,["title","yellow"])]))}});var R=y(Q,[["__scopeId","data-v-f70884aa"]]);const Y={class:"layer"},H=g({props:{snapToGrid:{type:Boolean}},setup(t){const n=t;function e(a,m,I){if(!a||!m)return{display:"none"};let{x:v,y:f}=m;return I&&(v-=a.x,f-=a.y,[v,f]=w(v,f),v+=a.x,f+=a.y),{transform:`translate(${v}px, ${f}px)`}}const s=j(a=>({item:a.getItem(),itemType:a.getItemType(),initialOffset:a.getInitialSourceClientOffset(),currentOffset:a.getSourceClientOffset(),isDragging:a.isDragging()})),{itemType:u,isDragging:l,item:c,initialOffset:p,currentOffset:d}=$(s);return(a,m)=>(i(),_("div",Y,[o("div",{style:D(e(r(p),r(d),n.snapToGrid))},[r(u)===r(B).BOX?(i(),b(R,{key:0,title:r(c).title},null,8,["title"])):F("",!0)],4)]))}});var J=y(H,[["__scopeId","data-v-6d64e698"]]);const K={for:"snapToGridWhileDragging"},Z=["checked"],ee=o("small",null,"Snap to grid while dragging",-1),te=o("br",null,null,-1),ne={for:"snapToGridAfterDrop"},ae=["checked"],oe=o("small",null,"Snap to grid after drop",-1),re=g({setup(t){const n=x(!1),e=x(!1),s=()=>{n.value=!n.value},u=()=>{e.value=!e.value};return(l,c)=>(i(),_("div",null,[h(q,{"snap-to-grid":n.value},null,8,["snap-to-grid"]),h(J,{"snap-to-grid":e.value},null,8,["snap-to-grid"]),o("p",null,[o("label",K,[o("input",{id:"snapToGridWhileDragging",type:"checkbox",checked:e.value,onChange:u},null,40,Z),ee]),te,o("label",ne,[o("input",{id:"snapToGridAfterDrop",type:"checkbox",checked:n.value,onChange:s},null,40,ae),oe])])]))}}),se=o("p",null,"\u6D4F\u89C8\u5668 API \u65E0\u6CD5\u5728\u62D6\u52A8\u5F00\u59CB\u540E\u66F4\u6539\u62D6\u52A8\u9884\u89C8\u6216\u5176\u884C\u4E3A\u3002\u50CF jQuery UI \u8FD9\u6837\u7684\u5E93\u5B9E\u73B0\u4E86\u4ECE\u5934\u5F00\u59CB\u7684\u62D6\u653E\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F react-dnd \u76EE\u524D\u53EA\u652F\u6301\u6D4F\u89C8\u5668\u62D6\u653E\u201C\u540E\u7AEF\u201D\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E0D\u5F97\u4E0D\u63A5\u53D7\u5B83\u7684\u5C40\u9650\u6027\u3002\u4F46\u662F\uFF0C\u5982\u679C\u6211\u4EEC\u5411\u6D4F\u89C8\u5668\u63D0\u4F9B\u4E00\u4E2A\u7A7A\u56FE\u50CF\u4F5C\u4E3A\u62D6\u52A8\u9884\u89C8\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5927\u91CF\u81EA\u5B9A\u4E49\u884C\u4E3A\u3002\u8FD9\u4E2A\u5E93\u63D0\u4F9B\u4E86\u4E00\u4E2A DragLayer\u4F60\u53EF\u4EE5\u7528\u6765\u5728\u4F60\u7684\u5E94\u7528\u9876\u90E8\u5B9E\u73B0\u4E00\u4E2A\u56FA\u5B9A\u7684\u5C42\uFF0C\u4F60\u53EF\u4EE5\u5728\u5176\u4E2D\u7ED8\u5236\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u62D6\u52A8\u9884\u89C8\u7EC4\u4EF6\u3002\u8BF7\u6CE8\u610F\uFF0C\u5982\u679C\u6211\u4EEC\u613F\u610F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u62D6\u52A8\u5C42\u4E0A\u7ED8\u5236\u5B8C\u5168\u4E0D\u540C\u7684\u7EC4\u4EF6\u3002\u8FD9\u4E0D\u4EC5\u4EC5\u662F\u4E00\u4E2A\u5C4F\u5E55\u622A\u56FE\u3002",-1),le=o("p",null,"\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\uFF0C\u6211\u4EEC\u5728\u79BB\u5F00\u5BB9\u5668\u65F6\u9519\u8FC7\u4E86\u9ED8\u8BA4\u7684\u201C\u8FD4\u56DE\u201D\u52A8\u753B\u3002\u4F46\u662F\uFF0C\u6211\u4EEC\u5728\u81EA\u5B9A\u4E49\u62D6\u52A8\u53CD\u9988\u548C\u96F6\u95EA\u70C1\u65B9\u9762\u83B7\u5F97\u4E86\u6781\u5927\u7684\u7075\u6D3B\u6027\u3002",-1),ce=o("hr",null,null,-1),ie=o("br",null,null,-1),ue=o("br",null,null,-1),pe=o("br",null,null,-1),fe='{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"example/drag-around/custom-drag-layer.md"}',de={},he=Object.assign(de,{setup(t){return(n,e)=>(i(),_("div",null,[se,le,ce,ie,ue,pe,h(r(re))]))}});export{fe as __pageData,he as default};
